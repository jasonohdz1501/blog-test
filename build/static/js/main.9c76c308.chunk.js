(this["webpackJsonpdojo-blog"]=this["webpackJsonpdojo-blog"]||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(1),o=c.n(n),r=c(17),i=c.n(r),s=c(7),a=c(2),l=c(8),j=function(e){var t=Object(n.useState)(null),c=Object(l.a)(t,2),o=c[0],r=c[1],i=Object(n.useState)(!0),s=Object(l.a)(i,2),a=s[0],j=s[1],d=Object(n.useState)(null),b=Object(l.a)(d,2),h=b[0],u=b[1];return Object(n.useEffect)((function(){setTimeout((function(){fetch(e).then((function(e){if(!e.ok)throw Error("Could not fetch the data for that resource");return e.json()})).then((function(e){return r(e)})).catch((function(e){return u(e.message)})),j(!1)}),1e3)}),[e]),{setData:r,data:o,isLoading:a,error:h}},d=c(0),b=function(){var e=Object(a.f)(),t=Object(a.g)().id,c=j("http://localhost:8000/blogs/".concat(t)),n=c.data,o=c.isLoading,r=c.error;return Object(d.jsxs)(d.Fragment,{children:[o&&Object(d.jsx)("div",{children:"Loading..."}),r&&Object(d.jsx)("div",{children:r}),n&&Object(d.jsxs)("article",{className:"container-detail-blog",children:[Object(d.jsx)("h1",{children:n.title}),Object(d.jsx)("p",{children:n.body}),Object(d.jsx)("button",{onClick:function(){return function(t){fetch("http://localhost:8000/blogs/".concat(t),{method:"DELETE"}).then((function(){return e.push("/")}))}(n.id)},children:"Delete"})]})]})},h=function(e){var t=e.handleDelete,c=e.blogs,n=e.title,o=e.message,r={paddingBottom:"8px",borderBottom:"1px dashed #41463D"};return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:n}),o&&Object(d.jsx)("div",{children:o}),c.map((function(e){return Object(d.jsxs)("div",{className:"container-blogs",children:[Object(d.jsx)("div",{className:"container-info",children:Object(d.jsxs)(s.b,{to:"/blogs/".concat(e.id),children:[Object(d.jsx)("h2",{children:e.title}),Object(d.jsx)("p",{style:r,children:e.body.split().length>300?e.body:e.body.slice(0,100)+"..."}),Object(d.jsxs)("em",{children:["Writen by: ",e.author]})]})}),Object(d.jsx)("button",{onClick:function(){return t(e.id)},children:"delete blog"})]},e.id)}))]})},u=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),c=t[0],o=t[1],r=j("http://localhost:8000/blogs"),i=r.data,s=r.isLoading,a=r.error,b=r.setData;return Object(d.jsxs)("div",{children:[a&&Object(d.jsx)("div",{children:a}),s&&Object(d.jsx)("div",{children:"Loading..."}),i&&Object(d.jsx)(h,{blogs:i,handleDelete:function(e){b(i.filter((function(t){return t.id!==e}))),fetch("http://localhost:8000/blogs/".concat(e),{method:"DELETE"}).then((function(){return o("The article with id ".concat(e," has been removed succesfully"))}))},title:"All blogs!",message:c})]})},O=function(){return Object(d.jsxs)("div",{className:"navbar",children:[Object(d.jsx)("h1",{children:"Dev Blog"}),Object(d.jsx)(s.b,{to:"/",children:"Home"}),Object(d.jsx)(s.b,{to:"/create",style:{color:"#fff",backgroundColor:"#9D8DF1",borderRadius:"9px"},children:"New Blog"})]})},x=c(11),f=c(16),g={title:"",body:"",author:"mario",id:""},p=function(){var e=Object(n.useState)(g),t=Object(l.a)(e,2),c=t[0],o=t[1],r=Object(n.useState)(null),i=Object(l.a)(r,2),s=i[0],j=i[1],b=Object(a.f)(),h=function(e){c.id=Date.now(),o(Object(f.a)(Object(f.a)({},c),{},Object(x.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)("div",{className:"form-new-blog",children:[Object(d.jsx)("h1",{style:{marginTop:"20px"},children:"Add a new Blogs"}),s&&Object(d.jsx)("div",{className:"alert-success",children:s}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("http://localhost:8000/blogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(){j("The blog with id ".concat(c.id," was added succesfully!")),o({}),b.push("/")}))},children:[Object(d.jsx)("label",{htmlFor:"title",children:"Blog Title:"}),Object(d.jsx)("input",{required:!0,type:"text",name:"title",value:c.title,onChange:h}),Object(d.jsx)("label",{htmlFor:"body",children:"Blog Body: "}),Object(d.jsx)("textarea",{name:"body",type:"text",value:c.body,onChange:h,required:!0}),Object(d.jsx)("label",{htmlFor:"author",children:"Author: "}),Object(d.jsxs)("select",{name:"author",value:c.author,onChange:h,children:[Object(d.jsx)("option",{value:"mario",children:"mario"}),Object(d.jsx)("option",{value:"yoshi",children:"yoshi"}),Object(d.jsx)("option",{value:"jason",children:"jason"})]}),Object(d.jsx)("button",{type:"submit",children:" Agregar nuevo art\xedculo"})]})]})},m=function(){var e=Object(a.g)().path;return Object(d.jsxs)("div",{className:"not-found",children:[Object(d.jsx)("h1",{children:"Sorry..."}),Object(d.jsx)("p",{children:"Unfourtunately the page ".concat(e," you are looking for is not available or doesn't exist")}),Object(d.jsx)("span",{children:Object(d.jsx)(s.b,{to:"/",children:"Back to home..."})})]})},v=function(){return Object(d.jsx)(s.a,{children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(O,{}),Object(d.jsxs)(a.c,{children:[Object(d.jsx)(a.a,{exact:!0,path:"/",component:u}),Object(d.jsx)(a.a,{path:"/create",component:p}),Object(d.jsx)(a.a,{path:"/blogs/:id",component:b}),Object(d.jsx)(a.a,{path:"/:path",component:m})]})]})})};c(32);i.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.9c76c308.chunk.js.map